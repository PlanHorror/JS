<!DOCTYPE html>
<html>
    <head>
        <title>Function</title>
    </head>
    <body>
        <p>
            Rock Paper Scissors
        </p>
        <button onclick="{
            pickcomputerMove();
            playerMove('rock');
            
        }">
            rock
        </button>
        <button onclick="{
            pickcomputerMove();
            playerMove('paper');
            
        }">
            paper
        </button>
        <button onclick="{
            pickcomputerMove();
            playerMove('scissors');
            
        }">
            scissors
        </button>
        <button onclick="{
            localStorage.removeItem('score');
            (!Score) && (Score = {
                Win : 0,
                Lose : 0,
                Tie : 0,
            })
            Score = JSON.parse(localStorage.getItem('score'));
            alert(`Win:${Score.Win}, Lose:${Score.Lose}, Tie:${Score.Tie}`)
        }">
            Clear score
        </button>
        <script>
            let computerMove =''
            let result = ''
            let userMove = ''
            let Score = JSON.parse(localStorage.getItem('score'));
            (!Score) && (Score = {
                Win : 0,
                Lose : 0,
                Tie : 0,
            })
            function playerMove(userMove){
                if (userMove == 'rock'){
                    (computerMove == 'rock') ? result = 'Tie' : ((computerMove == 'paper') ? result = 'Lose' : result = 'Win');
                    (result == 'Win') ? (Score.Win += 1) : ((result == 'Lose') ? (Score.Lose += 1) : (Score.Tie += 1))
                    alert(`Computer choose ${computerMove}. You choose ${userMove}. You ${result}\nWin:${Score.Win}, Lose:${Score.Lose}, Tie:${Score.Tie}`);
                }
                else if (userMove == 'paper'){
                    (computerMove == 'rock') ? result = 'Win' : ((computerMove == 'paper') ? result = 'Tie' : result = 'Lose');
                    (result == 'Win') ? (Score.Win += 1) : ((result == 'Lose') ? (Score.Lose += 1) : (Score.Tie += 1))
                    alert(`Computer choose ${computerMove}. You choose ${userMove}. You ${result}\nWin:${Score.Win}, Lose:${Score.Lose}, Tie:${Score.Tie}`);
                }
                else if (userMove == 'scissors'){
                    (computerMove == 'rock') ? result = 'Lose' : ((computerMove == 'paper') ? result = 'Win' : result = 'Tie');
                    (result == 'Win') ? (Score.Win += 1) : ((result == 'Lose') ? (Score.Lose += 1) : (Score.Tie += 1))
                    alert(`Computer choose ${computerMove}. You choose ${userMove}. You ${result}\nWin:${Score.Win}, Lose:${Score.Lose}, Tie:${Score.Tie}`);
                }
                localStorage.setItem('score', JSON.stringify(Score))
            };
            function pickcomputerMove(){
                let computerRandom = Math.random();
                (computerRandom < 1/3 && computerRandom >= 0) ? computerMove = 'rock' : ((computerRandom >= 1/3 && computerRandom < 2/3) ? computerMove = 'paper' : ((computerRandom >= 2/3) && (computerMove = 'scissors')));
            }
            
        </script>
    </body>
</html>